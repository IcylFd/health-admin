{"remainingRequest":"/Users/lifangdi/workspace/iview-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lifangdi/workspace/iview-admin/src/view/add-admin/add-admin.vue?vue&type=style&index=0&id=6e56d526&lang=less&scoped=true&","dependencies":[{"path":"/Users/lifangdi/workspace/iview-admin/src/view/add-admin/add-admin.vue","mtime":1553777783000},{"path":"/Users/lifangdi/workspace/iview-admin/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/lifangdi/workspace/iview-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lifangdi/workspace/iview-admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lifangdi/workspace/iview-admin/node_modules/less-loader/dist/cjs.js","mtime":1548038398000},{"path":"/Users/lifangdi/workspace/iview-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lifangdi/workspace/iview-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.ivu-form{\n  margin: 0 auto;\n  .ivu-input-wrapper,\n  .ivu-select{\n    width: 50%;\n  }\n}\n",{"version":3,"sources":["add-admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyIA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add-admin.vue","sourceRoot":"src/view/add-admin","sourcesContent":["<template>\n  <div>\n    <Form ref=\"formItem\" :model=\"formItem\" :rules=\"ruleValidate\" :label-width=\"400\">\n        <FormItem label=\"姓名\" prop=\"name\">\n            <Input v-model=\"formItem.name\" placeholder=\"请输入姓名...\"></Input>\n        </FormItem>\n        <FormItem label=\"性别\">\n            <RadioGroup v-model=\"formItem.sex\">\n                <Radio label=\"男\"></Radio>\n                <Radio label=\"女\"></Radio>\n            </RadioGroup>\n        </FormItem>\n        <FormItem label=\"出生日期\">\n          <DatePicker value='1998-01-01' type=\"date\" placeholder=\"请选择日期\"  v-model=\"formItem.birthday\"></DatePicker>\n        </FormItem>\n        <FormItem label=\"邮箱\" prop=\"mail\" error>\n            <Input v-model=\"formItem.mail\" placeholder=\"请输入电子邮箱...\"></Input>\n        </FormItem>\n        <FormItem label=\"电话\" prop=\"phone\">\n            <Input v-model=\"formItem.phone\" placeholder=\"请输入电话...\"></Input>\n        </FormItem>\n        <FormItem label=\"部门\" prop=\"department\">\n            <Select v-model=\"formItem.department\">\n                <Option value=\"技术部\"></Option>\n                <Option value=\"法务部\"></Option>\n                <Option value=\"人事部\"></Option>\n            </Select>\n        </FormItem>\n        <FormItem label=\"是否为超级管理员\">\n            <i-switch v-model=\"formItem.isSuperAd\" size=\"large\">\n                <span slot=\"open\">是</span>\n                <span slot=\"close\">否</span>\n            </i-switch>\n        </FormItem>\n        <FormItem label=\"备注\">\n            <Input\n                v-model=\"formItem.ps_msg\"\n                type=\"textarea\"\n                :autosize=\"{minRows: 2,maxRows: 5}\"\n            ></Input>\n        </FormItem>\n        <FormItem>\n            <Button type=\"primary\" @click=\"handleCommitFirst('formItem')\">提交</Button>\n            <Button style=\"margin-left: 8px\" @click=\"handleClear('formItem')\">清空</Button>\n        </FormItem>\n    </Form>\n    <Modal\n      v-model=\"confirm_modal \"\n      title=\"请确认提交信息\"\n      @on-ok=\"handleCommit()\"\n      @on-cancel=\"cancel\">\n      <p class=\"is-superad\" style=\"color:#2d8cf0; font-size:14px; margin-bottom: 5px\">\n        <span v-if='formItem.isSuperAd'>超级管理员</span>\n        <span v-else>普通管理员</span>\n      </p>\n      <p style=\"display:inline\">姓名：{{formItem.name}}</p>\n      <p>性别：{{formItem.sex}}</p>\n      <p>出生日期：{{formItem.birthdayStr}}</p>\n      <p>邮箱：{{formItem.mail}}</p>\n      <p>电话：{{formItem.phone}}</p>\n      <p>部门：{{formItem.department}}</p>\n      <p v-if='formItem.ps_msg'>备注：{{formItem.ps_msg}}</p>\n    </Modal>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      confirm_modal: false,\n      birthdayValue: '1998-01-01',\n      formItem: {\n        name: \"\",\n        sex: \"男\",\n        mail: \"\",\n        phone: \"\",\n        department: \"\",\n        isSuperAd: false,\n        birthday: new Date(),\n        birthdayStr: \"\",\n        ps_msg: \"\"\n      },\n      ruleValidate: {\n        name: [\n            { required: true, message: '姓名不能为空', trigger: 'blur'}\n        ],\n        mail: [\n            { required: true, message: '电子邮箱不能为空', trigger: 'blur' },\n            { type: 'email', message: '电子邮箱格式不正确', trigger: 'blur' }\n        ],\n        phone: [\n            { required: true, message: '电话不能为空', trigger: 'blur' }\n        ],\n        department: [\n            { required: true, message: '请选择部门', trigger: 'blur' }\n        ],\n      }\n    }\n  },\n  methods: {\n    handleClear (name) {\n      this.$refs[name].resetFields();\n    },\n    handleCommitFirst(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n            this.formItem.birthdayStr = this.formatDate(this.formItem.birthday);\n            this.confirm_modal = true;\n        } else {\n            this.$Message.config({\n              top: 200\n            })\n            this.$Message.error('表单验证失败');\n        }\n      })\n      \n    },\n    handleCommit () {\n      this.$router.push({\n        name: 'admin_page',\n        params: this.formItem\n      })\n    },\n    cancel () {\n\n    },\n    formatDate(date) {\n      var year = date.getFullYear();\n      var month = date.getMonth() + 1;\n      var day = date.getDate();\n      return year + '-' + month + '-' + day;\n    }\n  },\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .ivu-form{\n    margin: 0 auto;\n    .ivu-input-wrapper,\n    .ivu-select{\n      width: 50%;\n    }\n  }\n</style>\n\n"]}]}