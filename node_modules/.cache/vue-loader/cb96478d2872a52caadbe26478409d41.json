{"remainingRequest":"/Users/lifangdi/workspace/iview-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lifangdi/workspace/iview-admin/src/view/single-page/error-logger.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lifangdi/workspace/iview-admin/src/view/single-page/error-logger.vue","mtime":1548038358000},{"path":"/Users/lifangdi/workspace/iview-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lifangdi/workspace/iview-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lifangdi/workspace/iview-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lifangdi/workspace/iview-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n\nimport dayjs from 'dayjs'\nimport { mapMutations } from 'vuex'\nexport default {\n  name: 'error_logger_page',\n  data () {\n    return {\n      columns: [\n        {\n          type: 'index',\n          title: '序号',\n          width: 100\n        },\n        {\n          key: 'type',\n          title: '类型',\n          width: 100,\n          render: (h, { row }) => {\n            return (\n              <div>\n                <icon size={16} type={row.type === 'ajax' ? 'md-link' : 'md-code-working'}></icon>\n              </div>\n            )\n          }\n        },\n        {\n          key: 'code',\n          title: '编码',\n          render: (h, { row }) => {\n            return (\n              <span>{ row.code === 0 ? '-' : row.code }</span>\n            )\n          }\n        },\n        {\n          key: 'mes',\n          title: '信息'\n        },\n        {\n          key: 'url',\n          title: 'URL'\n        },\n        {\n          key: 'time',\n          title: '时间',\n          render: (h, { row }) => {\n            return (\n              <span>{ dayjs(row.time).format('YYYY-MM-DD HH:mm:ss') }</span>\n            )\n          },\n          sortable: true,\n          sortType: 'desc'\n        }\n      ]\n    }\n  },\n  computed: {\n    errorList () {\n      return this.$store.state.app.errorList\n    }\n  },\n  methods: {\n    ...mapMutations([\n      'setHasReadErrorLoggerStatus'\n    ]),\n    exportData () {\n      this.$refs.table.exportCsv({\n        filename: '错误日志.csv'\n      })\n    }\n  },\n  activated () {\n    this.setHasReadErrorLoggerStatus()\n  },\n  mounted () {\n    this.setHasReadErrorLoggerStatus()\n  }\n}\n",{"version":3,"sources":["error-logger.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"error-logger.vue","sourceRoot":"src/view/single-page","sourcesContent":["<template>\n  <div>\n    <Button @click=\"exportData\" type=\"primary\" style=\"margin: 0 10px 10px 0;\">导出日志记录</Button>\n    <b>注：这里只会显示成功保存到服务端的错误日志，而且页面错误日志不会在浏览器持久化存储，刷新页面即会丢失</b>\n    <Table ref=\"table\" :columns=\"columns\" :data=\"errorList\"></Table>\n  </div>\n</template>\n\n<script>\nimport dayjs from 'dayjs'\nimport { mapMutations } from 'vuex'\nexport default {\n  name: 'error_logger_page',\n  data () {\n    return {\n      columns: [\n        {\n          type: 'index',\n          title: '序号',\n          width: 100\n        },\n        {\n          key: 'type',\n          title: '类型',\n          width: 100,\n          render: (h, { row }) => {\n            return (\n              <div>\n                <icon size={16} type={row.type === 'ajax' ? 'md-link' : 'md-code-working'}></icon>\n              </div>\n            )\n          }\n        },\n        {\n          key: 'code',\n          title: '编码',\n          render: (h, { row }) => {\n            return (\n              <span>{ row.code === 0 ? '-' : row.code }</span>\n            )\n          }\n        },\n        {\n          key: 'mes',\n          title: '信息'\n        },\n        {\n          key: 'url',\n          title: 'URL'\n        },\n        {\n          key: 'time',\n          title: '时间',\n          render: (h, { row }) => {\n            return (\n              <span>{ dayjs(row.time).format('YYYY-MM-DD HH:mm:ss') }</span>\n            )\n          },\n          sortable: true,\n          sortType: 'desc'\n        }\n      ]\n    }\n  },\n  computed: {\n    errorList () {\n      return this.$store.state.app.errorList\n    }\n  },\n  methods: {\n    ...mapMutations([\n      'setHasReadErrorLoggerStatus'\n    ]),\n    exportData () {\n      this.$refs.table.exportCsv({\n        filename: '错误日志.csv'\n      })\n    }\n  },\n  activated () {\n    this.setHasReadErrorLoggerStatus()\n  },\n  mounted () {\n    this.setHasReadErrorLoggerStatus()\n  }\n}\n</script>\n\n<style>\n\n</style>\n"]}]}