{"remainingRequest":"/Users/lifangdi/workspace/iview-admin/node_modules/babel-loader/lib/index.js!/Users/lifangdi/workspace/iview-admin/src/components/paste-editor/plugins/placeholder.js","dependencies":[{"path":"/Users/lifangdi/workspace/iview-admin/src/components/paste-editor/plugins/placeholder.js","mtime":1548038358000},{"path":"/Users/lifangdi/workspace/iview-admin/.babelrc","mtime":1548038358000},{"path":"/Users/lifangdi/workspace/iview-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lifangdi/workspace/iview-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nexport default (function (codemirror) {\n  (function (mod) {\n    mod(codemirror);\n  })(function (CodeMirror) {\n    CodeMirror.defineOption('placeholder', '', function (cm, val, old) {\n      var prev = old && old !== CodeMirror.Init;\n\n      if (val && !prev) {\n        cm.on('blur', onBlur);\n        cm.on('change', onChange);\n        cm.on('swapDoc', onChange);\n        onChange(cm);\n      } else if (!val && prev) {\n        cm.off('blur', onBlur);\n        cm.off('change', onChange);\n        cm.off('swapDoc', onChange);\n        clearPlaceholder(cm);\n        var wrapper = cm.getWrapperElement();\n        wrapper.className = wrapper.className.replace(' CodeMirror-empty', '');\n      }\n\n      if (val && !cm.hasFocus()) onBlur(cm);\n    });\n\n    function clearPlaceholder(cm) {\n      if (cm.state.placeholder) {\n        cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n        cm.state.placeholder = null;\n      }\n    }\n\n    function setPlaceholder(cm) {\n      clearPlaceholder(cm);\n      var elt = cm.state.placeholder = document.createElement('pre');\n      elt.style.cssText = 'height: 0; overflow: visible; color: #80848f;';\n      elt.style.direction = cm.getOption('direction');\n      elt.className = 'CodeMirror-placeholder';\n      var placeHolder = cm.getOption('placeholder');\n      if (typeof placeHolder === 'string') placeHolder = document.createTextNode(placeHolder);\n      elt.appendChild(placeHolder);\n      cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n    }\n\n    function onBlur(cm) {\n      if (isEmpty(cm)) setPlaceholder(cm);\n    }\n\n    function onChange(cm) {\n      var wrapper = cm.getWrapperElement();\n      var empty = isEmpty(cm);\n      wrapper.className = wrapper.className.replace(' CodeMirror-empty', '') + (empty ? ' CodeMirror-empty' : '');\n      if (empty) setPlaceholder(cm);else clearPlaceholder(cm);\n    }\n\n    function isEmpty(cm) {\n      return cm.lineCount() === 1 && cm.getLine(0) === '';\n    }\n  });\n});",{"version":3,"sources":["/Users/lifangdi/workspace/iview-admin/src/components/paste-editor/plugins/placeholder.js"],"names":["codemirror","mod","CodeMirror","defineOption","cm","val","old","prev","Init","on","onBlur","onChange","off","clearPlaceholder","wrapper","getWrapperElement","className","replace","hasFocus","state","placeholder","parentNode","removeChild","setPlaceholder","elt","document","createElement","style","cssText","direction","getOption","placeHolder","createTextNode","appendChild","display","lineSpace","insertBefore","firstChild","isEmpty","empty","lineCount","getLine"],"mappings":"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","sourcesContent":["export default (codemirror) => {\n  (function (mod) {\n    mod(codemirror)\n  })(function (CodeMirror) {\n    CodeMirror.defineOption('placeholder', '', function (cm, val, old) {\n      var prev = old && old !== CodeMirror.Init\n      if (val && !prev) {\n        cm.on('blur', onBlur)\n        cm.on('change', onChange)\n        cm.on('swapDoc', onChange)\n        onChange(cm)\n      } else if (!val && prev) {\n        cm.off('blur', onBlur)\n        cm.off('change', onChange)\n        cm.off('swapDoc', onChange)\n        clearPlaceholder(cm)\n        var wrapper = cm.getWrapperElement()\n        wrapper.className = wrapper.className.replace(' CodeMirror-empty', '')\n      }\n\n      if (val && !cm.hasFocus()) onBlur(cm)\n    })\n\n    function clearPlaceholder (cm) {\n      if (cm.state.placeholder) {\n        cm.state.placeholder.parentNode.removeChild(cm.state.placeholder)\n        cm.state.placeholder = null\n      }\n    }\n    function setPlaceholder (cm) {\n      clearPlaceholder(cm)\n      var elt = cm.state.placeholder = document.createElement('pre')\n      elt.style.cssText = 'height: 0; overflow: visible; color: #80848f;'\n      elt.style.direction = cm.getOption('direction')\n      elt.className = 'CodeMirror-placeholder'\n      var placeHolder = cm.getOption('placeholder')\n      if (typeof placeHolder === 'string') placeHolder = document.createTextNode(placeHolder)\n      elt.appendChild(placeHolder)\n      cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild)\n    }\n\n    function onBlur (cm) {\n      if (isEmpty(cm)) setPlaceholder(cm)\n    }\n    function onChange (cm) {\n      let wrapper = cm.getWrapperElement()\n      let empty = isEmpty(cm)\n      wrapper.className = wrapper.className.replace(' CodeMirror-empty', '') + (empty ? ' CodeMirror-empty' : '')\n\n      if (empty) setPlaceholder(cm)\n      else clearPlaceholder(cm)\n    }\n\n    function isEmpty (cm) {\n      return (cm.lineCount() === 1) && (cm.getLine(0) === '')\n    }\n  })\n}\n"]}]}